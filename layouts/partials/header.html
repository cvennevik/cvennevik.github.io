{{ if .IsHome }}
  {{ if .Site.Params.homeTitle }}{{ $.Scratch.Set "title" .Site.Params.homeTitle }}{{ else }}{{ $.Scratch.Set "title" .Site.Title }}{{ end }}
  {{ if .Site.Params.subtitle }}{{ $.Scratch.Set "subtitle" .Site.Params.subtitle }}{{ end }}
{{ else }}
  {{ $.Scratch.Set "title" .Title }}
  {{ if .Params.subtitle }}{{ $.Scratch.Set "subtitle" .Params.subtitle }}{{ end }}
{{ end }}
{{ $title := $.Scratch.Get "title" }}
{{ $subtitle := $.Scratch.Get "subtitle" }}

<header class="header-section">
  <div class="intro-header">
    <div class="container">
      <div class="{{ .Type }}-heading">
        {{ if eq .Type "list" }}
          <h1>{{ if .Data.Singular }}#{{ end }}{{ .Title }}</h1>
        {{ else }}
          <h1>{{ with $title }}{{.}}{{ else }}<br/>{{ end }}</h1>
        {{ end }}
        {{ if ne .Type "post" }}
          <hr class="small">
        {{ end }}
        {{ if $subtitle }}
          {{ if eq .Type "page" }}
            <span class="{{ .Type }}-subheading">{{ $subtitle }}</span>
          {{ else }}
            <h2 class="{{ .Type }}-subheading">{{ $subtitle }}</h2>
          {{ end }}
        {{ end }}
        {{ if eq .Type "post" }}
          <span class="post-meta">{{ "January 2, 2006" | .Date.Format }}</span>
        {{ end }}
      </div>
    </div>
  </div>
</header>
